package classes.asset.check{	import classes.asset.check.CheckPannel;	import classes.asset.land.Africa;	import classes.asset.land.Asia;	import classes.asset.land.Australia;	import classes.asset.land.Europe;	import classes.asset.land.NorthAmerica;	import classes.asset.land.SouthAmerica;		import flash.display.DisplayObject;	import flash.display.DisplayObjectContainer;	import flash.display.Graphics;	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;	import flash.geom.ColorTransform;	import flash.media.StageWebView;	import flash.utils.getDefinitionByName;
		public class CheckView extends Sprite	{				private var _className:String;		private var _language:String;		private var _webview:StageWebView;				public function CheckView(landName:String, lng:String)		{			super();			_language = lng;			Init(landName);			this.addEventListener(Event.REMOVED_FROM_STAGE, rFSH, false, 0, true);		}				public function get webview():StageWebView{			return _webview;		}				public function set webview(w:StageWebView):void{			_webview = w;		}						private function Init(str:String):void		{			_className = str.replace(" ", "");			var cpath:String = "classes.asset.land.";			cpath = cpath.concat(_className);			var ClassRef:Class = getDefinitionByName(cpath) as Class;			var c:DisplayObjectContainer = new ClassRef(true);			c.visible = false;			c.addEventListener(Event.ADDED_TO_STAGE, addHandler, false, 0, true);			addChild(c);		}				protected function addHandler(event:Event):void		{			event.target.removeEventListener(Event.ADDED_TO_STAGE, addHandler);			var mc = event.target;			var a:Array = new Array();			a = mc.countrys;			a.sortOn("_en");						for(var i:uint = 0; i < a.length; i++){				var pannel:CheckPannel = new CheckPannel(a[i], _className, _language);				pannel.y = pannel.height * i + (i*1);				if(i==a.length-1){					pannel.addEventListener(Event.ADDED_TO_STAGE, lastPannelAddedHandler, false, 0, true);				}				addChild(pannel);			}		}				protected function lastPannelAddedHandler(event:Event):void
		{						var cp:CheckPannel = event.target as CheckPannel;			cp.removeEventListener(Event.ADDED_TO_STAGE, lastPannelAddedHandler);						var overUp:OverShootUp = new OverShootUp();			var overDown:OverShootDown = new OverShootDown();			overUp.y = - overUp.height;			overDown.y = cp.y + cp.height;						addChild(overUp);			addChild(overDown);						var bgShape:Sprite = new Sprite();			var g:Graphics = bgShape.graphics;			g.beginFill(0x999999, 1);			g.drawRect(0, 0, stage.stageWidth, overDown.y + overDown.height);			g.endFill();			addChildAt(bgShape, 0);
			this.dispatchEvent(new Event("checkPannelSetComplete"));
		}				protected function rFSH(event:Event):void		{			this.removeEventListener(Event.REMOVED_FROM_STAGE, rFSH);			while(numChildren > 0){				var display:DisplayObject = getChildAt(0);				//trace(display);				removeChild(display);				display = null;			}		}	}}