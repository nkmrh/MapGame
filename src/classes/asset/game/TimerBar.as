package asset.game{	import flash.display.DisplayObject;	import flash.display.Sprite;	import flash.events.Event;	import flash.events.TimerEvent;	import flash.geom.ColorTransform;		import myEvents.ClearEvent;		import org.libspark.betweenas3.BetweenAS3;	import org.libspark.betweenas3.easing.*;	import org.libspark.betweenas3.events.TweenEvent;	import org.libspark.betweenas3.tweens.IObjectTween;	import org.libspark.betweenas3.tweens.ITween;
		public class TimerBar extends Sprite	{		private var tween:ITween;				public function TimerBar()		{			super();			this.addEventListener(Event.ENTER_FRAME, entreFrameHandler, false, 0, true);			this.addEventListener(Event.REMOVED_FROM_STAGE, rFSH, false, 0, true);		}				protected function rFSH(event:Event):void		{			this.removeEventListener(Event.ENTER_FRAME, entreFrameHandler);			this.removeEventListener(Event.REMOVED_FROM_STAGE, rFSH);			while(numChildren > 0){				var display:DisplayObject = getChildAt(0);				//trace(display);				removeChild(display);				display = null;			}		}				protected function entreFrameHandler(event:Event):void
		{			var col:ColorTransform;
			if(scaleX > 0.5){				//blue				col = new ColorTransform(0, 0, 0, 1, 0, 204, 255, 1);			}else if(scaleX <= 0.5 && scaleX > 0.25){				//yellow				col = new ColorTransform(0, 0, 0, 1, 255, 204, 0, 1);			}else{				//red				col = new ColorTransform(0, 0, 0, 1, 255, 0, 0, 1);			}			this.transform.colorTransform = col;
		}				private function tweenCompHandler(event:TweenEvent):void		{			this.removeEventListener(Event.ENTER_FRAME, entreFrameHandler);			tween.stop();			tween = null;			GameView(parent).GameEnd();		}				public function TimerStop():void{			this.removeEventListener(Event.ENTER_FRAME, entreFrameHandler);			if(tween!=null){				tween.stop();				tween.removeEventListener(TweenEvent.COMPLETE, tweenCompHandler);				tween = null;			}		}				public function TimerStart(max:uint):void{			if(tween!=null){				tween.stop();				tween.removeEventListener(TweenEvent.COMPLETE, tweenCompHandler);				tween = null;			}			scaleX = 1;						var col:ColorTransform;			col = new ColorTransform(0, 0, 0, 1, 0, 204, 255, 1);			this.transform.colorTransform = col;						this.addEventListener(Event.ENTER_FRAME, entreFrameHandler, false, 0, true);						var t:uint = max * 4;			tween = BetweenAS3.tween(this, {scaleX:0}, {scaleX:1}, t);			tween.addEventListener(TweenEvent.COMPLETE, tweenCompHandler, false, 0, true);			tween.play();		}				public function togglePause():void{			if(tween!=null){				tween.togglePause();			}					}	}}